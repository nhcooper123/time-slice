---
title: "Figures compiler"
author: "Thomas Guillerme"
date: "`r Sys.Date()`"
output:
  html_document:
    fig_width: 12
    fig_height: 6
---

# Compiling the figures for the paper

Loading the code:

```{r}
source("../functions/figures_fun.R")
```

## Disparity peaks figures (maximum/minimum)



## Extinction effect figures

Initialising the slug and loading the data:

```{r}
## Slugs (choose one)
slug <- "Beck2014"
# slug <- "Brusatte2014"
# slug <- "Bapst2016"
# slug <- "Wright2017"

data <- read.csv(paste0("../outputs/extinction.", slug, ".csv"), stringsAsFactors = FALSE)
```

Single plots:

```{r, fig.width = 6, fig.height = 6}
colours <- c("grey", "white", "black") #Signif, non-signif, NA
plot.extinction(data, type = "age", xaxis = TRUE, yaxis = TRUE, xaxis2 = TRUE, main = slug, cols = colours)
```

Multiple plots:

```{r, fig.width = 12, fig.height = 4}
## Names of the datasets
slugs <- as.list(c("Beck2014", "Brusatte2014", "Bapst2016", "Wright2017"))

## Load all the data
data_list <- lapply(slugs, function(slug) read.csv(paste0("../outputs/extinction.", slug, ".csv"), stringsAsFactors = FALSE))

## Set up the colours (yeah, they're ugly for now)
colours <- c("lightblue", "yellow", "white") #Signif, non-signif, NA

## Plot all the results
multi.plot.extinction(data_list, type = c("age", "epoch"), data.names = unlist(slugs), cols = colours)
```


















